<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Psychology Lesson | PSD Wiki</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <link rel="stylesheet" href="../style.css">
    <script src="https://cdn.tiny.cloud/1/no-api-key/tinymce/5/tinymce.min.js" referrerpolicy="origin"></script>
</head>
<body class="lesson-page">

<div class="lesson-container">
    <div class="lesson-header">
        <h1>Психология</h1>
    </div>
    
    <div class="lesson-content">
        <textarea id="myTextarea">
            <h2>Психология</h2>
            <p>Текст...</p>
            <ul>
                <!-- Содержимое списка -->
            </ul>
        </textarea>
    </div>

    <div class="lesson-footer">
        <button onclick="saveLesson()" class="btn btn-success">Сохранить изменения</button>
        <a href="../content.html" class="btn btn-primary">Вернуться</a>
    </div>
</div>

<button id="scrollToTop" class="scrollToTop">↑</button>

<script>
    tinymce.init({
        selector: '#myTextarea'
    });

    function saveLesson() {
        fetch('/save-lesson', {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify({
                title: 'Польский',
                content: tinymce.get('myTextarea').getContent()
            })
        })
        .then(response => response.json())
        .then(data => alert(data.message))
        .catch(error => console.error('Error:', error));
    }

    const scrollToTopButton = document.getElementById("scrollToTop");
    window.addEventListener("scroll", () => {
        if (window.pageYOffset > 200) {  
            scrollToTopButton.style.display = "block";
        } else {
            scrollToTopButton.style.display = "none";
        }
    });
    scrollToTopButton.addEventListener("click", () => {
        window.scrollTo(0, 0);  
    });
</script>

</body>
</html>
